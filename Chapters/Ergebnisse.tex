\chapter{Beschreibung der verschiedenen Messungen und Ergebnisdarstellung}

\section{Teil 1}


\subsection{Konfiguration der Hosts}\label{hostconfig}
Die Hosts werden nach den Vorgaben in \ref{config1} konfiguriert. Host 1 wird an
den Port Fa0/11 angeschlossen, Host 2 an Fa0/18. Host 3 wird nicht
verbunden.\footnote{siehe Versuchsanleitung}

\subsection{Konfiguration des Router}\label{routerconfig}
Der Router wird an den Port Fa0/5 des Switches angeschlossen und konfiguriert.
Die Konfiguration beinhaltet die Änderung des Hostnames in ``CustomerRouter'',
die Konfiguration und Aktivierung der Passwörter und die Konfiguration der
Fa0/1-Schnittstelle:
\begin{lstlisting}
CustomerRouter(config-if)#ip address 192.168.1.1 255.255.255.0
CustomerRouter(config-if)#line console 0
CustomerRouter(config-line)#password cisco
CustomerRouter(config-line)#login
CustomerRouter(config-line)#exit
CustomerRouter(config)#line vty 0 4
CustomerRouter(config-line)#password cisco
CustomerRouter(config-line)#login
CustomerRouter(config-line)#exit
CustomerRouter(config)#enable password cisco
CustomerRouter(config)#enable secret class
CustomerRouter(config)#exit
\end{lstlisting}

\subsection{Konfiguration des Switch}
Die Konfiguration des Switches erfolgt analog zu \ref{routerconfig}. Das
Passwort für den Priviledge EXEC Mode lautet ``cisco123''. Das gleiche Passwort
wird auch für die Konsole und für die \acs{VTY}-Ports (Telnet Ports)
verwendet.\footnote{siehe Versuchsanleitung}

\subsubsection{Konfiguration des Management-Interfaces von VLAN1}
Um die Schnittslelle von VLAN 1 zu konfigurieren, wird im Configuration-Mode der
Befehl ``\textit{interface vlan 1}'' genutzt. Dann wird die IP-Adresse und das
Default-Gateway konfiguriert.

\subsubsection{Konfiguration überprüfen}
Zunächst wird durch ``\textit{show running-config}'' die aktuelle Konfiguration
ausgegeben. Nach einer Kontrolle wird die Konfiguration gesichert, durch das
Kopieren der running-config in die startup-config.
\newline
\newline
Um die Verbindung zu testen, werden Ping- und Telnet-Befehle genutzt.
\begin{itemize}
  	\item Pings
  	\begin{itemize}
    	\item Switch -> Router (192.168.1.1)
    	\item Host 1 -> Switch (192.168.1.5)
    \end{itemize}
\end{itemize}
Beides verlief erfolgreich.\footnote{siehe Anhang \ref{ping1}}
\paragraph{Telnet-Session}\mbox{}\\
Zunächst wird von Host 1 eine Telnet-Session zum Switch-Management VLAN 1
eröffnet:

\begin{lstlisting}
PC>telnet 192.168.1.5
Trying 192.168.1.5 ...Open
\end{lstlisting}

Nach Eingabe des zuvor konfigurierten Passworts (cisco123) ist der Zugriff auf
den Switch möglich. Mit \textit{show version} erhält man Informationen über die
Version der Software des Switches.

\begin{lstlisting}
CustomerSwitch>show version
Cisco IOS Software, C2960 Software (C2960-LANBASE-M), Version 12.2(25)FX, RELEASE SOFTWARE (fc1)
Copyright (c) 1986-2005 by Cisco Systems, Inc.
Compiled Wed 12-Oct-05 22:05 by pt_team

[...]
\end{lstlisting}

Auf dem Switch läuft die Cisco IOS Version 12.2(25)FX.
\newline
\newline
Die vollständige Ausgabe ist im Anhang unter \ref{version} zu finden.

\subsection{MAC-Addressen}

\subsubsection{Hostadressen}\label{adressen}
Um die Layer-2-Adressen der Hosts festzustellen, wird auf jedem Host mit der
Eingabeaufforderung \textit{ipconfig /all} ausgeführt.\footnote{siehe Anhang
\ref{mac}}
\begin{itemize}
  \item Host 1: 0001.C75A.60C4
  \item Host 2: 0090.21A7.1539
  \item Host 3: 0009.7C58.7137
\end{itemize}

\subsubsection{MAC-Adressen-Tabelle}
Mit \textit{show mac-address-table} werden die MAC-Adressen aufgelistet, die dem
Switch zu diesem Zeitpunkt bekannt sind.

\begin{lstlisting}
CustomerSwitch>show mac-address-table
          Mac Address Table
-------------------------------------------

Vlan    Mac Address       Type        Ports
----    -----------       --------    -----

   1    0001.42a4.0002    DYNAMIC     Fa0/5
   1    0001.c75a.60c4    DYNAMIC     Fa0/11
\end{lstlisting}
Dem Switch sind nur zwei dynamische Adressen bekannt. Die erste entspricht der
Adresse von Host 1 am Port Fa0/11.

\subsubsection{Statische MAC-Adresse}
Die aus \ref{adressen} bekannte MAC-Adresse von Host 2 wird nun statisch der
Tabelle des Switches hinzugefügt:

\begin{lstlisting}
CustomerSwitch(config)#mac-address-table static 0090.21A7.1539 vlan 1 interface
fastEthernet 0/18
\end{lstlisting}

Eine erneute Ausgabe der MAC-Adressen-Tabelle zeigt, dass dem Switch nun zwei
Adressen, eine dynamische und eine statische, bekannt sind.

\begin{lstlisting}
CustomerSwitch#show mac-address-table
          Mac Address Table
-------------------------------------------

Vlan    Mac Address       Type        Ports
----    -----------       --------    -----

   1    0001.42a4.0002    DYNAMIC     Fa0/5
   1    0090.21a7.1539    STATIC      Fa0/18

---------------------------------------------
\end{lstlisting}

Die Adresse von Host 1 wird nicht mehr in der Tabelle aufgeführt. Die Aging-Time
beträgt standardmäßig 300 Sekunden. Nach dieser Zeit wird der Eintrag
gelöscht.\cite{cisco1}

%TODO andere MAC-Adresse?

\subsection{Geschwindigkeit und Duplex}
Zunächst werden die aktuellen Einstellungen der jewiligen Ports mit \textit{show
interfaces} ausgegeben:\footnote{siehe Anhang \ref{duplex}}
\begin{lstlisting}
Full-duplex, 100Mb/s
\end{lstlisting}
Diese Einstellung liegt bei den Ports Fa0/5, Fa0/11 und Fa0/18 vor.

\subsubsection{Änderungen am Port Fa0/5}
Über das \acs{CLI} des Switchs wird nun die Geschwindikeit auf 10Mb/s bei
Half-Duplex geändert.\footnote{siehe Versuchsanleitung}
\newline
Die erneute Ausgabe von \textit{show interfaces} zeigt, dass die Änderung
erfolgreich war:
\begin{lstlisting}
FastEthernet0/5 is up, line protocol is up (connected)
  Hardware is Lance, address is 0002.17c2.8305 (bia 0002.17c2.8305)
 BW 10000 Kbit, DLY 1000 usec,
     reliability 255/255, txload 1/255, rxload 1/255
  Encapsulation ARPA, loopback not set
  Keepalive set (10 sec)
  Half-duplex, 10Mb/s
  
  [...]
\end{lstlisting}

\subsection{Reflection}


\clearpage

\section{Teil 2}


\subsection{Theorie}
\subsubsection{Einsatz von Switches}
\subsubsection{VLAN}
\subsubsection{Zuordnung eines Teilnehmers}
\subsubsection{Trunking}
\subsubsection{Spanning Tree Protokoll}

\subsection{Basiskonfiguration}

\subsection{VLAN Konfiguration}
\subsubsection{Erstellen der VLANs}
\subsubsection{Zuweisung von Switchports zu den VLANs}
\subsubsection{Konfiguration überprüfen}

\subsection{Konfigruation des zweiten Switches}%TODO umbenennen

\subsection{Trunk Konfiguration}

\subsection{InterVLAN Routing}
\subsubsection{Konfiguration der Router}

\subsection{Verbindung zwischen Router und Switch einrichten}
\subsubsection{Verbindungen überprüfen}

\subsection{Analyse der Pakete}


